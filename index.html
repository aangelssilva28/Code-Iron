<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Code and Iron</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background-color: #000;
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    .app {
      max-width: 480px;      /* good phone size */
      margin: 0 auto;
      padding: 16px;
    }

    h1 {
      margin: 0 0 8px;
      font-size: 32px;
      font-weight: 800;
    }

    .subtitle {
      font-size: 15px;
      color: #ccc;
      margin-bottom: 16px;
    }

    /* Workout card */
    .workout-card {
      background-color: #111;
      border-radius: 16px;
      padding: 14px;
      margin: 12px 0;
      box-shadow: 0 0 4px rgba(255, 255, 255, 0.04);
    }

    .workout-header {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 10px;
    }

    .workout-header input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid #333;
      background-color: #000;
      color: #fff;
      font-size: 16px;
    }

    .remove-workout-btn {
      align-self: flex-start;
      padding: 8px 16px;
      border-radius: 999px;
      border: none;
      background-color: #d93030;
      color: #fff;
      font-size: 14px;
      font-weight: 600;
    }

    .set-box {
      background-color: #181818;
      border-radius: 14px;
      padding: 12px;
      margin-bottom: 10px;
      border: 1px solid #2a2a2a;
    }

    .set-label {
      font-size: 15px;
      font-weight: 700;
      color: #ffb74d;
      margin-bottom: 8px;
    }

    .input-row {
      display: flex;
      gap: 10px;
      margin-bottom: 8px;
    }

    .input-group {
      flex: 1;
    }

    .input-group label {
      display: block;
      font-size: 13px;
      color: #bbb;
      margin-bottom: 4px;
    }

    .input-group input {
      width: 100%;
      padding: 9px 10px;
      border-radius: 10px;
      border: 1px solid #333;
      background-color: #000;
      color: #fff;
      font-size: 15px;
    }

    .remove-set-btn {
      width: 100%;
      padding: 10px;
      border-radius: 999px;
      border: none;
      background-color: #a32727;
      color: #fff;
      font-size: 15px;
      font-weight: 600;
      margin-top: 4px;
    }

    .add-set-btn,
    .add-workout-btn {
      width: 100%;
      padding: 13px;
      border-radius: 999px;
      border: none;
      background-color: #007aff;
      color: #fff;
      font-size: 17px;
      font-weight: 600;
      margin-top: 10px;
    }

    .add-workout-btn {
      margin-top: 16px;
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>Code and Iron</h1>
    <div class="subtitle">
      Track each set with weight and reps. Add or remove workouts as needed.
    </div>

    <div id="workouts-container"></div>

    <button class="add-workout-btn" id="add-workout-btn">Add workout</button>
  </div>

  <script>
    const workoutsContainer = document.getElementById('workouts-container');
    const addWorkoutBtn = document.getElementById('add-workout-btn');

    function createSet(workoutEl, setNumber) {
      const setBox = document.createElement('div');
      setBox.className = 'set-box';

      const setLabel = document.createElement('div');
      setLabel.className = 'set-label';
      setLabel.textContent = `Set ${setNumber}`;
      setBox.appendChild(setLabel);

      const inputRow = document.createElement('div');
      inputRow.className = 'input-row';

      const weightGroup = document.createElement('div');
      weightGroup.className = 'input-group';
      const weightLabel = document.createElement('label');
      weightLabel.textContent = 'Weight';
      const weightInput = document.createElement('input');
      weightInput.type = 'text';
      weightInput.placeholder = 'lbs';
      weightGroup.appendChild(weightLabel);
      weightGroup.appendChild(weightInput);

      const repsGroup = document.createElement('div');
      repsGroup.className = 'input-group';
      const repsLabel = document.createElement('label');
      repsLabel.textContent = 'Reps';
      const repsInput = document.createElement('input');
      repsInput.type = 'number';
      repsInput.min = '0';
      repsInput.value = '0';
      repsGroup.appendChild(repsLabel);
      repsGroup.appendChild(repsInput);

      inputRow.appendChild(weightGroup);
      inputRow.appendChild(repsGroup);
      setBox.appendChild(inputRow);

      const removeSetBtn = document.createElement('button');
      removeSetBtn.className = 'remove-set-btn';
      removeSetBtn.textContent = 'Remove set';
      removeSetBtn.addEventListener('click', () => {
        const setsContainer = workoutEl.querySelector('.sets-container');
        setsContainer.removeChild(setBox);
        renumberSets(setsContainer);
      });

      setBox.appendChild(removeSetBtn);

      return setBox;
    }

    function renumberSets(setsContainer) {
      const setBoxes = setsContainer.querySelectorAll('.set-box');
      setBoxes.forEach((box, index) => {
        const label = box.querySelector('.set-label');
        label.textContent = `Set ${index + 1}`;
      });
    }

    function addSetToWorkout(workoutEl) {
      const setsContainer = workoutEl.querySelector('.sets-container');
      const setCount = setsContainer.querySelectorAll('.set-box').length;
      const newSet = createSet(workoutEl, setCount + 1);
      setsContainer.appendChild(newSet);
    }

    function createWorkout() {
      const workoutCard = document.createElement('div');
      workoutCard.className = 'workout-card';

      const header = document.createElement('div');
      header.className = 'workout-header';

      const nameInput = document.createElement('input');
      nameInput.type = 'text';
      nameInput.placeholder = 'Enter workout name';

      const removeWorkoutBtn = document.createElement('button');
      removeWorkoutBtn.className = 'remove-workout-btn';
      removeWorkoutBtn.textContent = 'Remove workout';

      removeWorkoutBtn.addEventListener('click', () => {
        workoutsContainer.removeChild(workoutCard);
        if (workoutsContainer.children.length === 0) {
          addWorkout(); // always keep at least one workout
        }
      });

      header.appendChild(nameInput);
      header.appendChild(removeWorkoutBtn);

      const setsContainer = document.createElement('div');
      setsContainer.className = 'sets-container';

      workoutCard.appendChild(header);
      workoutCard.appendChild(setsContainer);

      const addSetBtn = document.createElement('button');
      addSetBtn.className = 'add-set-btn';
      addSetBtn.textContent = 'Add set';
      addSetBtn.addEventListener('click', () => addSetToWorkout(workoutCard));

      workoutCard.appendChild(addSetBtn);

      // start with one empty set
      const firstSet = createSet(workoutCard, 1);
      setsContainer.appendChild(firstSet);

      return workoutCard;
    }

    function addWorkout() {
      const workout = createWorkout();
      workoutsContainer.appendChild(workout);
    }

    addWorkoutBtn.addEventListener('click', addWorkout);

    // initial blank workout on load
    addWorkout();
  </script>
</body>
</html>