<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Code and Iron</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #050505;
      --card: #141414;
      --card-inner: #1e1e1e;
      --text-main: #ffffff;
      --text-sub: #b5b5b5;
      --accent: #007aff;
      --danger: #d63636;
      --border: #2a2a2a;
      --input-bg: #000000;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 16px;
      background-color: var(--bg);
      color: var(--text-main);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    .app-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 18px;
    }

    h1 {
      font-size: 34px;
      font-weight: 800;
      margin: 0;
    }

    .menu-button {
      width: 44px;
      height: 44px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background-color: #111;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .menu-icon {
      width: 20px;
      height: 14px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .menu-icon span {
      display: block;
      height: 2px;
      border-radius: 999px;
      background-color: #fff;
    }

    .menu-dropdown {
      position: absolute;
      top: 76px;
      right: 16px;
      width: 260px;
      background-color: #111;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
      overflow: hidden;
      display: none;
      z-index: 20;
    }

    .menu-item {
      padding: 14px 18px;
      border-bottom: 1px solid #222;
      font-size: 17px;
      cursor: pointer;
    }

    .menu-item:last-child {
      border-bottom: none;
    }

    .menu-item:active {
      background-color: #1f1f1f;
    }

    .screen {
      display: none;
    }

    .screen.active {
      display: block;
    }

    .card {
      background-color: var(--card);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 0 6px rgba(255, 255, 255, 0.03);
      margin-bottom: 22px;
    }

    .card-title {
      font-size: 22px;
      font-weight: 700;
      margin: 0 0 4px 0;
    }

    .card-subtitle {
      font-size: 15px;
      color: var(--text-sub);
      margin: 0 0 18px 0;
    }

    .workouts-container,
    .template-workouts-container {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .workout-card {
      background-color: var(--card-inner);
      border-radius: 18px;
      padding: 16px 16px 14px;
      border: 1px solid var(--border);
    }

    .workout-name-input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 12px;
      background-color: var(--input-bg);
      border: 1px solid var(--border);
      color: var(--text-main);
      font-size: 16px;
      margin-bottom: 16px;
    }

    .remove-workout-btn {
      width: 100%;
      padding: 12px;
      border-radius: 999px;
      border: none;
      background-color: var(--danger);
      color: #fff;
      font-size: 17px;
      font-weight: 600;
      margin-bottom: 14px;
      cursor: pointer;
    }

    .set-box {
      background-color: #181818;
      border-radius: 16px;
      padding: 12px 14px 14px;
      border: 1px solid #242424;
      margin-bottom: 12px;
    }

    .set-label {
      font-size: 15px;
      font-weight: 700;
      color: #ffb648;
      margin-bottom: 8px;
    }

    .input-row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    .input-box {
      flex: 1;
    }

    .input-box label {
      font-size: 13px;
      color: #b5b5b5;
      display: block;
      margin-bottom: 4px;
    }

    .input-box input {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background-color: var(--input-bg);
      color: #fff;
      font-size: 16px;
    }

    .remove-set-btn {
      width: 100%;
      padding: 10px;
      border-radius: 999px;
      border: none;
      background-color: #a32626;
      color: #fff;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
    }

    .primary-btn {
      width: 100%;
      padding: 14px;
      border-radius: 999px;
      border: none;
      background-color: var(--accent);
      color: #fff;
      font-size: 18px;
      font-weight: 600;
      margin-top: 10px;
      cursor: pointer;
    }

    .footer-btn {
      margin-top: 18px;
    }

    .link-back {
      text-align: center;
      color: var(--text-sub);
      font-size: 16px;
      margin-top: 10px;
      cursor: pointer;
    }

    .link-back span {
      padding-right: 6px;
    }

    @media (min-width: 480px) {
      body {
        display: flex;
        justify-content: center;
      }
      .app-wrapper {
        max-width: 420px;
        width: 100%;
      }
    }
  </style>
</head>
<body>
<div class="app-wrapper">
  <header class="app-header">
    <h1>Code and Iron</h1>
    <button class="menu-button" id="menuButton" aria-label="Open menu">
      <div class="menu-icon">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </button>
  </header>

  <!-- MENU -->
  <div class="menu-dropdown" id="menuDropdown">
    <div class="menu-item" data-nav="workouts">Workouts</div>
    <div class="menu-item">Option 3</div>
    <div class="menu-item">Option 4</div>
  </div>

  <!-- HOME / LOGGER SCREEN -->
  <main id="homeScreen" class="screen active">
    <section class="card">
      

      <div id="workoutsContainer" class="workouts-container"></div>

      <button id="addWorkoutBtn" class="primary-btn footer-btn">Add workout</button>
    </section>
  </main>

  <!-- WORKOUT TEMPLATES SCREEN -->
  <main id="workoutsScreen" class="screen">
  <section class="card">
    <h2 class="card-title">Workouts</h2>
    <p class="card-subtitle">
      Create and save workout templates you can load later on the main page.
    </p>

    <!-- This container will hold the template-building card,
         identical to the logger style (name + sets + remove + add set). -->
    <div class="workouts-container" id="templateBuilderContainer"></div>

    <!-- Button to add the current builder workout as a saved template -->
    <button id="addTemplateWorkoutBtn" class="primary-btn footer-btn">
      Add workout to template
    </button>

    <!-- Saved templates list (like on your screenshot with "Chest day") -->
    <div class="saved-templates" id="savedTemplatesSection">
      <h3 class="saved-title">Saved workouts</h3>
      <div id="savedWorkoutsList"></div>
    </div>

    <div class="link-back" id="backToLogger">
      <span>‚Üê</span> Back to workout logger
    </div>
  </section>
</main>
</div>

<script>
  const menuButton = document.getElementById("menuButton");
  const menuDropdown = document.getElementById("menuDropdown");
  const homeScreen = document.getElementById("homeScreen");
  const workoutsScreen = document.getElementById("workoutsScreen");

  function setScreen(screen) {
    if (screen === "home") {
      homeScreen.classList.add("active");
      workoutsScreen.classList.remove("active");
    } else if (screen === "workouts") {
      homeScreen.classList.remove("active");
      workoutsScreen.classList.add("active");
    }
    menuDropdown.style.display = "none";
  }

  menuButton.addEventListener("click", () => {
    menuDropdown.style.display =
      menuDropdown.style.display === "block" ? "none" : "block";
  });

  menuDropdown.querySelectorAll(".menu-item").forEach((item) => {
    const nav = item.getAttribute("data-nav");
    if (nav === "home" || nav === "workouts") {
      item.addEventListener("click", () => setScreen(nav));
    }
  });

  document.addEventListener("click", (e) => {
    if (!menuButton.contains(e.target) && !menuDropdown.contains(e.target)) {
      menuDropdown.style.display = "none";
    }
  });

  /* ---------- Shared builder for a workout card (used on both screens) ---------- */

  function createWorkoutCard(options = {}) {
    const card = document.createElement("div");
    card.className = "workout-card";

    const nameInput = document.createElement("input");
    nameInput.className = "workout-name-input";
    nameInput.placeholder = "Enter workout name";
    nameInput.value = options.name || "";
    card.appendChild(nameInput);

    const removeWorkoutBtn = document.createElement("button");
    removeWorkoutBtn.className = "remove-workout-btn";
    removeWorkoutBtn.textContent = "Remove workout";
    card.appendChild(removeWorkoutBtn);

    const setsContainer = document.createElement("div");
    setsContainer.className = "sets-container";
    card.appendChild(setsContainer);

    function createSetRow(setData = {}) {
      const setBox = document.createElement("div");
      setBox.className = "set-box";

      const setLabel = document.createElement("div");
      setLabel.className = "set-label";
      setLabel.textContent = "Set " + (setsContainer.children.length + 1);
      setBox.appendChild(setLabel);

      const inputRow = document.createElement("div");
      inputRow.className = "input-row";

      const weightBox = document.createElement("div");
      weightBox.className = "input-box";
      const weightLabel = document.createElement("label");
      weightLabel.textContent = "Weight";
      const weightInput = document.createElement("input");
      weightInput.type = "number";
      weightInput.placeholder = "lbs";
      weightInput.value = setData.weight || "";
      weightBox.appendChild(weightLabel);
      weightBox.appendChild(weightInput);

      const repsBox = document.createElement("div");
      repsBox.className = "input-box";
      const repsLabel = document.createElement("label");
      repsLabel.textContent = "Reps";
      const repsInput = document.createElement("input");
      repsInput.type = "number";
      repsInput.placeholder = "0";
      repsInput.value = setData.reps || "";
      repsBox.appendChild(repsLabel);
      repsBox.appendChild(repsInput);

      inputRow.appendChild(weightBox);
      inputRow.appendChild(repsBox);
      setBox.appendChild(inputRow);

      const removeSetBtn = document.createElement("button");
      removeSetBtn.className = "remove-set-btn";
      removeSetBtn.textContent = "Remove set";
      setBox.appendChild(removeSetBtn);

      removeSetBtn.addEventListener("click", () => {
        setsContainer.removeChild(setBox);
        Array.from(setsContainer.children).forEach((child, index) => {
          const label = child.querySelector(".set-label");
          if (label) label.textContent = "Set " + (index + 1);
        });
      });

      setsContainer.appendChild(setBox);
    }

    const addSetBtn = document.createElement("button");
    addSetBtn.className = "primary-btn";
    addSetBtn.style.marginTop = "4px";
    addSetBtn.textContent = "Add set";
    card.appendChild(addSetBtn);

    addSetBtn.addEventListener("click", () => createSetRow());

    if (options.sets && Array.isArray(options.sets) && options.sets.length) {
      options.sets.forEach((s) => createSetRow(s));
    } else {
      createSetRow();
    }

    removeWorkoutBtn.addEventListener("click", () => {
      const container = card.parentElement;
      if (container) container.removeChild(card);
    });

    return card;
  }

  /* ---------- HOME LOGGER ---------- */

  const workoutsContainer = document.getElementById("workoutsContainer");
  const addWorkoutBtn = document.getElementById("addWorkoutBtn");

  addWorkoutBtn.addEventListener("click", () => {
    workoutsContainer.appendChild(createWorkoutCard());
  });

  workoutsContainer.appendChild(createWorkoutCard());

  /* ---------- WORKOUT TEMPLATES ---------- */

  const templateContainer = document.getElementById("templateWorkoutsContainer");
  const addTemplateWorkoutBtn = document.getElementById(
    "addTemplateWorkoutBtn"
  );
  const backToLogger = document.getElementById("backToLogger");
  // make "Back to workout logger" link go back to home
document.getElementById('backToLogger').addEventListener('click', () => {
  showScreen('home');
});

  addTemplateWorkoutBtn.addEventListener("click", () => {
    templateContainer.appendChild(createWorkoutCard());
  });

  templateContainer.appendChild(createWorkoutCard());

  backToLogger.addEventListener("click", () => setScreen("home"));
</script>
</body>
</html>