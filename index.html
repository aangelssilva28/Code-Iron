<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Code and Iron</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    body {
      background-color: #0d0d0d;
      color: white;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      margin: 0;
      padding: 0 15px 40px;
    }

    /* HEADER WITH LOGO BACKGROUND */
    .page-header {
      margin: 0 -15px 16px;
      padding: 20px 15px 18px;
      background-image:
        linear-gradient( to right, rgba(13,13,13,0.95), rgba(13,13,13,0.9) ),
        url("logo.png");
      background-repeat: no-repeat;
      background-position: right center;
      background-size: 140px auto;
    }

    .page-header h1 {
      font-size: 34px;
      font-weight: 800;
      margin: 0 0 8px 0;
    }

    .subtitle {
      font-size: 15px;
      color: #ccc;
      margin: 0;
      max-width: 70%;
    }

    /* MAIN AREA */
    #exercises {
      margin-top: 6px;
    }

    .exercise {
      background-color: #141414;
      padding: 14px;
      border-radius: 14px;
      margin-bottom: 16px;
      box-shadow: 0 0 4px rgba(255,255,255,0.05);
    }

    /* exercise header: name input + remove workout button */
    .exercise-header {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
      margin-bottom: 10px;
    }

    .exercise-name {
      flex: 1;
      background-color: #000;
      border-radius: 10px;
      border: 1px solid #333;
      padding: 8px 10px;
      color: #fff;
      font-size: 17px;
      font-weight: 600;
    }

    .remove-exercise-btn {
      background-color: #d93030;
      border: none;
      border-radius: 999px;
      color: #fff;
      font-size: 13px;
      font-weight: 600;
      padding: 7px 10px;
      white-space: nowrap;
    }

    /* SET BOXES */
    .set-box {
      background-color: #1a1a1a;
      padding: 10px;
      border-radius: 12px;
      margin-bottom: 8px;
      border: 1px solid #2a2a2a;
    }

    .set-label {
      font-size: 15px;
      font-weight: 700;
      color: #ffb74d;
      margin: 0 0 6px 0;
    }

    .input-row {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 6px;
    }

    .input-box {
      width: 50%;
    }

    .input-box label {
      display: block;
      font-size: 13px;
      color: #bbb;
      margin-bottom: 2px;
    }

    .input-box input {
      width: 100%;
      padding: 7px 9px;
      border-radius: 10px;
      background-color: #000;
      border: 1px solid #333;
      color: white;
      font-size: 16px;
    }

    .add-set-btn {
      width: 100%;
      padding: 11px;
      background-color: #007aff;
      border: none;
      border-radius: 999px;
      color: white;
      font-size: 16px;
      font-weight: 600;
      margin-top: 4px;
    }

    .remove-set-btn {
      width: 100%;
      padding: 8px;
      background-color: #d93030;
      border: none;
      border-radius: 999px;
      color: white;
      font-size: 14px;
      font-weight: 600;
      margin-top: 2px;
    }

    /* ADD WORKOUT BUTTON */
    .add-exercise-btn {
      width: 100%;
      padding: 13px;
      background-color: #00c853;
      border: none;
      border-radius: 999px;
      color: white;
      font-size: 17px;
      font-weight: 700;
      margin-top: 6px;
    }
  </style>
</head>

<body>

  <header class="page-header">
    <h1>Code and Iron</h1>
    <p class="subtitle">
      Track each set with its own reps and weight. Add or remove workouts as you go.
    </p>
  </header>

  <main id="exercises"></main>

  <button class="add-exercise-btn" onclick="createExerciseCard('')">
    Add workout
  </button>

  <script>
    const exercisesContainer = document.getElementById("exercises");
    let exerciseCount = 0;

    function createExerciseCard(name = "") {
      exerciseCount++;
      const exId = "exercise-" + exerciseCount;

      const card = document.createElement("div");
      card.className = "exercise";
      card.dataset.exerciseId = exId;

      card.innerHTML = `
        <div class="exercise-header">
          <input class="exercise-name"
                 type="text"
                 placeholder="Workout name"
                 value="${name.replace(/"/g, "&quot;")}">
          <button class="remove-exercise-btn"
                  onclick="removeExercise('${exId}')">
            Remove workout
          </button>
        </div>
        <div class="sets" id="${exId}-sets"></div>
        <button class="add-set-btn" onclick="addSet('${exId}')">
          Add set
        </button>
      `;

      exercisesContainer.appendChild(card);
      addSet(exId); // start with one set
    }

    function removeExercise(exId) {
      const card = document.querySelector(`[data-exercise-id="${exId}"]`);
      if (card) card.remove();
    }

    function addSet(exId) {
      const setsContainer = document.getElementById(exId + "-sets");
      const setNumber = setsContainer.children.length + 1;

      const setBox = document.createElement("div");
      setBox.className = "set-box";

      setBox.innerHTML = `
        <div class="set-label">Set ${setNumber}</div>
        <div class="input-row">
          <div class="input-box">
            <label>Weight</label>
            <input type="number" inputmode="decimal" placeholder="lbs">
          </div>
          <div class="input-box">
            <label>Reps</label>
            <input type="number" inputmode="numeric" value="0">
          </div>
        </div>
        <button class="remove-set-btn" onclick="removeSet(this)">
          Remove set
        </button>
      `;

      setsContainer.appendChild(setBox);
    }

    function removeSet(btn) {
      const setBox = btn.closest(".set-box");
      const setsContainer = setBox.parentElement;
      setBox.remove();

      // renumber remaining sets
      const labels = setsContainer.querySelectorAll(".set-label");
      labels.forEach((label, idx) => {
        label.textContent = "Set " + (idx + 1);
      });
    }

    // INITIAL WORKOUTS
    window.onload = function () {
      const startingWorkouts = [
        "Incline Dumbbell Bench Press",
        "Incline Machine Chest Fly",
        "Bodyweight Dips",
        "Tricep Cable Pulldown",
        "Overhead Tricep Extension"
      ];

      startingWorkouts.forEach(name => createExerciseCard(name));
    };
  </script>

</body>
</html>